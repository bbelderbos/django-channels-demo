{% extends "base.html" %}

{% block title %}Your Tickets{% endblock %}

{% block content %}
    <h2>Your Tickets</h2>
    <ul id="ticket-list" class="fa-ul"
      hx-get="{% url "get_tickets" %}" hx-trigger="load, every 3s" hx-swap="innerHTML">
    </ul>

    <form hx-post="{% url 'submit_ticket' %}" hx-target="#ticket-list" hx-swap="beforeend" hx-on="htmx:afterRequest: this.reset()">
        {% csrf_token %}
        <input type="text" name="title" placeholder="Enter ticket title" />
        <button type="submit">Submit</button>
    </form>

{% endblock %}
